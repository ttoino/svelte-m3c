/* CSS Properties */

@utility duration-* {
    transition-duration: --value([*]);
    transition-duration: --value(number) ms;
    transition-duration: --value(--duration-*);
}

@utility linecap-* {
    stroke-linecap: --value("butt", "round", "square");
}

@utility linejoin-* {
    stroke-linejoin: --value("miter", "round", "bevel");
}

@utility mask-shape-* {
    mask-image: --value(--mask-*);
}

@utility paint-* {
    background-image: paint(--value("arc", "arc-wave", "wave"));
}

@utility w-stretch {
    width: -webkit-fill-available;
    width: -moz-available;
    width: stretch;
}
@utility min-w-stretch {
    min-width: -webkit-fill-available;
    min-width: -moz-available;
    min-width: stretch;
}
@utility max-w-stretch {
    max-width: -webkit-fill-available;
    max-width: -moz-available;
    max-width: stretch;
}

@utility h-stretch {
    height: -webkit-fill-available;
    height: -moz-available;
    height: stretch;
}
@utility min-h-stretch {
    min-height: -webkit-fill-available;
    min-height: -moz-available;
    min-height: stretch;
}
@utility max-h-stretch {
    max-height: -webkit-fill-available;
    max-height: -moz-available;
    max-height: stretch;
}

@utility size-stretch {
    @apply h-stretch w-stretch;
}

/* Custom Properties */

@utility phase-* {
    --phase: --value([percentage]);
    --phase: calc(--value(number) * 1%);
}

@utility wavelength-* {
    --wavelength: --value([length]);
    --wavelength: --spacing(--value(number));
}

@utility amplitude-* {
    --amplitude: --value([length]);
    --amplitude: --spacing(--value(number));
}

/* Icons */

@utility icon {
    @apply font-icon;

    width: var(--icon-size, var(--default-icon-size));
    height: var(--icon-size, var(--default-icon-size));
    font-size: var(--icon-size, var(--default-icon-size));
    line-height: 1;
    font-variation-settings:
        "FILL" var(--icon-fill, var(--default-icon-fill)),
        "GRAD" var(--icon-grade, var(--default-icon-grade));
}

@utility icon-* {
    --icon-size: calc(--value(number) * var(--spacing));
    --icon-size: --value([length]);
}

@utility icon-outline {
    --icon-fill: 0;
}
@utility icon-filled {
    --icon-fill: 1;
}
@utility icon-fill-* {
    --icon-fill: calc(--value(percentage) / 100);
}

@utility icon-grade-low {
    --icon-grade: -25;
}
@utility icon-grade-normal {
    --icon-grade: 0;
}
@utility icon-grade-high {
    --icon-grade: 200;
}
@utility icon-grade-* {
    --icon-grade: --value(integer);
}
@utility -icon-grade-* {
    --icon-grade: calc(--value(integer) * -1);
}

/* Prose */

@utility prose {
    @apply align-baseline text-body-m;

    :is(& *, &):not(.not-prose):not(.not-prose *) {
        h1& {
            @apply text-headline-l;
        }
        h2& {
            @apply text-headline-m;
        }
        h3& {
            @apply text-headline-s;
        }
        h4& {
            @apply text-title-l;
        }
        h5& {
            @apply text-title-m;
        }
        h6& {
            @apply text-title-s;
        }
        h2&,
        h3&,
        h4&,
        h5&,
        h6& {
            @apply mt-5;
        }

        a& {
            @apply cursor-pointer text-primary visited:text-secondary hover:underline;
        }

        p& {
            @apply my-4;
        }

        code& {
            @apply rounded-xxs bg-surface-variant px-0.5 font-mono;
        }

        pre& {
            @apply -mx-1 my-2 w-full overflow-x-auto rounded-xs bg-surface-variant px-1 py-0.5;

            code {
                @apply block min-w-full overflow-x-auto rounded-none bg-none p-0;
            }
        }
    }
}
